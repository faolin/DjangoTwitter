{"version":3,"sources":["webpack:///./src/app/models/app-constants.ts","webpack:///./src/app/pages/login/login.component.html","webpack:///./src/app/pages/login/login.component.scss","webpack:///./src/app/pages/login/login.component.ts","webpack:///./src/app/pages/login/login.module.ts"],"names":[],"mappings":"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","file":"app-pages-login-login-module.js","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AppConstants {\n  TOKEN_HEADER = 'X-Auth-Token';\n  DATA = 'DATA';\n  DATA_LENGTH = 'DATA_LENGTH';\n  ERROR = 'ERROR';\n  UPDATE = 'UPDATE';\n  REGISTRED = 'REGISTRED';\n  EXIST_EMAIL = 'EXIST_EMAIL';\n  USER = 'USER';\n  ROLES = 'ROLES';\n  USER_DETAILS = 'USER_DETAILS';\n  TOKEN = 'TOKEN';\n  MESSAGE = 'MESSAGE';\n  MESSAGE_ERROR = 'MESSAGE_ERROR';\n  CODE_ERROR = 'CODE_ERROR';\n  TIMESTAMPS = 'TIMESTAMPS';\n  SUBSCRIPTIONS = 'SUBSCRIPTIONS';\n\n  APPLICATION_SINAY_PLATFORM = 'APPLICATION_SINAY_PLATFORM';\n  APPLICATION_CATALOG = 'APPLICATION_CATALOG';\n  APPLICATION_CABLE = 'APPLICATION_CABLE';\n  APPLICATION_TWITTER = 'APPLICATION_TWITTER';\n\n  WISH_LIST = 'WISH_LIST';\n  WISH = 'WISH';\n  APPLICATION_JSON = 'application/json';\n  TYPE_DATA_SET = 'DATA_SET';\n  TYPE_PACKAGE = 'PACKAGE';\n}\n","module.exports = \"<div\\n  style=\\\"height: 100vh; overflow: hidden; border-width: 0px; padding: 0px; margin: 0px;\\\"\\n  id=\\\"logout\\\"\\n>\\n  <iframe\\n    name=\\\"the_iframe\\\"\\n    [src]=\\\"this.urlLoginIframe | safe2\\\"\\n    id=\\\"the_iframe\\\"\\n    frameborder=\\\"0\\\"\\n    marginheight=\\\"0\\\"\\n    marginwidth=\\\"0\\\"\\n    width=\\\"100%\\\"\\n    height=\\\"100%\\\"\\n    scrolling=\\\"no\\\"\\n    allowfullscreen=\\\"yes\\\"\\n    allowvr=\\\"yes\\\"\\n  ></iframe>\\n</div>\\n\"","module.exports = \"/**** Colors (recommended use HEX colors) ****/\\n/**** App roots ****/\\n/**** General ****/\\n/**** Navbar ****/\\n/**** Sidebar ****/\\n/**** Progress ****/\\n/**** Fonts ****/\\n/**** Social icons ****/\\nbody::after {\\n  content: '{\\\"main-color\\\":\\\"#282658\\\",\\\"default-color\\\":\\\"#fff\\\",\\\"dark-color\\\":\\\"#000\\\",\\\"primary-color\\\":\\\"#024a88\\\",\\\"success-color\\\":\\\"#2d922d\\\",\\\"warning-color\\\":\\\"#f79a17\\\",\\\"danger-color\\\":\\\"#bf1725\\\",\\\"info-color\\\":\\\"#248dad\\\",\\\"sidebar-bg-color\\\":\\\"#282658\\\",\\\"gray\\\":\\\"#555\\\",\\\"gray-light\\\":\\\"#ccc\\\"}';\\n  display: none; }\\nbody {\\n  height: 100% !important; }\\n.container-fluid {\\n  height: 100% !important; }\\n.app-row {\\n  height: 100% !important; }\\n.main-wrapper {\\n  padding: 0 !important; }\\n@media (min-height: 800px) {\\n  .login-container {\\n    padding-bottom: 200px; } }\\n.login-container {\\n  top: 0;\\n  left: 0;\\n  display: flex;\\n  align-items: center;\\n  height: 100%;\\n  width: 100%;\\n  position: absolute;\\n  z-index: 9; }\\n.login-container .card {\\n    padding: 15px; }\\n.login-container .card .btn-link {\\n      padding: 0; }\\n.login-container .card .btn-link.forgot {\\n        font-size: 14px; }\\n.login-container .card .btn-link:hover {\\n        color: #282658; }\\n.auth-sep {\\n  margin-top: 32px;\\n  margin-bottom: 24px;\\n  line-height: 20px;\\n  font-size: 15px;\\n  text-align: center;\\n  display: block;\\n  position: relative; }\\n.auth-sep > span {\\n    display: table-cell;\\n    width: 30%;\\n    white-space: nowrap;\\n    padding: 0 14px;\\n    color: #555; }\\n.auth-sep > span > span {\\n      margin-top: -11px;\\n      display: block;\\n      font-weight: 300; }\\n.auth-sep:before, .auth-sep:after {\\n    border-top: solid 1px #ccc;\\n    content: \\\"\\\";\\n    height: 1px;\\n    width: 35%;\\n    display: table-cell; }\\n.login-help {\\n  margin: 0;\\n  padding: 0; }\\n.login-help li {\\n    list-style: none;\\n    display: inline-block;\\n    margin-left: 10px; }\\n.login-help li:first-child {\\n      margin-left: 0; }\\n.login-help li i {\\n      cursor: pointer;\\n      transition: all 0.1s ease;\\n      color: #fff;\\n      padding: 9px 9px 6px 9px;\\n      font-size: 12px;\\n      background-color: #282658; }\\n.login-help li i.socicon-facebook {\\n        background-color: #3b5998; }\\n.login-help li i.socicon-twitter {\\n        background-color: #55acee; }\\n.login-help li i.socicon-google {\\n        background-color: #dd4b39; }\\n.login-help li i:hover {\\n        opacity: 0.9; }\\n.login-img {\\n  width: 250px; }\\n.login-page::before {\\n  content: '';\\n  width: 100%;\\n  height: 100%;\\n  display: block;\\n  z-index: -1;\\n  background: url(\\\"/assets/img/login/bg_sinay_login.jpg\\\");\\n  background-size: cover;\\n  /*  -webkit-filter: blur(10px);\\n    filter: blur(10px);*/\\n  z-index: 1;\\n  position: absolute;\\n  top: 0;\\n  right: 0; }\\n\"","import {\n  Component,\n  OnInit,\n  AfterViewInit,\n  Renderer2,\n  ViewChild,\n  ElementRef,\n  Pipe,\n  PipeTransform\n} from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { User } from '../../models/user';\nimport { UserService } from '../../services/user.service';\nimport { environment } from '../../../environments/environment';\nimport { AppConstants } from '../../models/app-constants';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({ name: 'safe2' })\nexport class SafePipe2 implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) {}\n  transform(url) {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n  }\n}\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit, AfterViewInit {\n  user: User = null;\n  token: string = null;\n  roles: string[] = null;\n  subscriptions: any[] = null;\n\n  @ViewChild('the_iframe') iframe: ElementRef;\n  public urlLoginIframe = environment.urlLoginIframe;\n\n  constructor(\n    private router: Router,\n    private userService: UserService,\n    private renderer: Renderer2,\n    private route: ActivatedRoute,\n    private appConstants: AppConstants\n  ) {}\n\n  ngOnInit(): void {\n    // Capture the session ID if available\n    this.route.params.subscribe(params => {\n      const logout = params['logout'];\n      if (logout !== undefined && logout === 'true') {\n        console.error('log out request .....');\n        this.userService.removeUser();\n        this.urlLoginIframe = environment.urlLogoutIframe;\n      }\n    });\n\n    const global = this.renderer.listen('window', 'message', evt => {\n      // console.log('Clicking the document', evt);\n      if (evt.data[0] !== 'authentication') {\n        return;\n      }\n\n      const data = JSON.parse(evt.data[1]);\n\n      if (typeof window.localStorage !== 'undefined') {\n        // Code for localStorage/sessionStorage.\n        /*localStorage.setItem('authentication.token', data[this.appConstants.TOKEN]);\n        localStorage.setItem(\n          'authentication.roles',\n          JSON.stringify(data[this.appConstants.ROLES])\n        );\n        localStorage.setItem(\n          'authentication.user',\n          JSON.stringify(data[this.appConstants.USER])\n        );*/\n        this.loginSuccessful(data);\n      } else {\n        // Sorry! No Web Storage support..\n        console.error('Sorry! No Web Storage support..', Storage);\n      }\n    });\n  }\n\n  public ngAfterViewInit(): void {\n    document.getElementById('preloader').style['display'] = 'none';\n  }\n\n  loginSuccessful(data: any): void {\n    console.log(data);\n    if (data[this.appConstants.USER]) {\n      this.user = data[this.appConstants.USER];\n    }\n\n    if (data[this.appConstants.TOKEN]) {\n      this.token = data[this.appConstants.TOKEN];\n    }\n\n    if (data[this.appConstants.ROLES]) {\n      this.roles = data[this.appConstants.ROLES];\n    }\n\n    if (data[this.appConstants.SUBSCRIPTIONS]) {\n      this.subscriptions = data[this.appConstants.SUBSCRIPTIONS];\n    }\n    const save = this.userService.saveUser(this.user, this.token, this.roles, this.subscriptions);\n    this.router.navigate([this.userService.getDefaultPath()]);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { LoginComponent } from './login.component';\nimport { SpinnerModule } from '../../theme/components/spinner/spinner.module';\nimport { SafePipe2 } from '../login/login.component';\n\nexport const routes = [\n  { path: '', component: LoginComponent, pathMatch: 'full' }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes),\n    SpinnerModule,\n  ],\n  declarations: [LoginComponent, SafePipe2]\n})\n\nexport class LoginModule { }\n"],"sourceRoot":""}